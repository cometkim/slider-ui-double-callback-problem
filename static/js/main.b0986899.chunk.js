(this["webpackJsonpslider-ui-double-callback-problem"]=this["webpackJsonpslider-ui-double-callback-problem"]||[]).push([[0],{54:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(2),a=(n(54),n(28)),r=n(7),o=n(0),i=n.n(o),s=n(102),j=n(42);function u(){var e=Object(o.useState)(0),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(c.jsxs)("div",{children:[Object(c.jsxs)(j.a,{paragraph:!0,children:[Object(c.jsx)("strong",{children:"Example 0."})," Typical Material-UI Slider component usage. value=",n]}),Object(c.jsx)(s.a,{min:-8,max:8,value:n,track:!1,onChange:function(e,t){"number"===typeof t&&a(t)}}),Object(c.jsx)(j.a,{paragraph:!0,children:"The problematic cases follow."})]})}function l(){var e,t=Object(o.useState)(0),n=Object(r.a)(t,2),a=n[0],i=n[1],u=Object(o.useState)(0),l=Object(r.a)(u,2),b=l[0],m=l[1];return Object(c.jsxs)("div",{children:[Object(c.jsxs)(j.a,{paragraph:!0,children:[Object(c.jsx)("strong",{children:"Example 1."})," The problem appears. position=",a," velocity=",b]}),Object(c.jsx)(s.a,{min:-8,max:8,value:b,onChange:function(t,n){"number"===typeof n&&(m(n),void 0===e&&(e=window.setInterval((function(){i(a+b)}),250)))},onChangeCommitted:function(t,n){"number"===typeof n&&(m(0),void 0!==e&&(window.clearInterval(e),e=void 0))}})]})}function b(){var e=Object(o.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)(0),u=Object(r.a)(i,2),l=u[0],b=u[1],m=Object(o.useState)(0),p=Object(r.a)(m,2),d=p[0],f=p[1],x=Object(o.useState)(),O=Object(r.a)(x,2),h=O[0],v=O[1],g=0;return Object(c.jsxs)("div",{children:[Object(c.jsxs)(j.a,{paragraph:!0,children:[Object(c.jsx)("strong",{children:"Example 2."})," Tip: (1) click the velocity=0, no move; (2) move the slider and how 'count' is captured. #timer=","".concat(h)," position=",l," velocity=",d]}),Object(c.jsx)(s.a,{min:-8,max:8,value:d,onChange:function(e,t){"number"===typeof t&&(v((function(e){return void 0!==e?void 0:window.setInterval((function(){a((function(e){return"callback ".concat(g++,"\n").concat(e)})),b(l+d)}),250)})),f(t))},onChangeCommitted:function(e,t){"number"===typeof t&&(f(0),v((function(e){window.clearInterval(e)})))}}),Object(c.jsx)("pre",{children:n})]})}function m(){var e=Object(o.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)(0),u=Object(r.a)(i,2),l=u[0],b=u[1],m=Object(o.useState)(0),p=Object(r.a)(m,2),d=p[0],f=p[1],x=Object(o.useState)(),O=Object(r.a)(x,2),h=O[0],v=O[1],g=0;return Object(c.jsxs)("div",{children:[Object(c.jsxs)(j.a,{paragraph:!0,children:[Object(c.jsx)("strong",{children:"Example 3."})," Tip: click the velocity=0, no move. #timer=","".concat(h)," position=",l," velocity=",d]}),Object(c.jsx)(s.a,{min:-8,max:8,value:d,onChange:function(e,t){"number"===typeof t&&(f(t),v((function(e){return void 0!==e?void 0:window.setInterval((function(){a((function(e){return"callback ".concat(g++,"\n").concat(e)})),b(l+d)}),250)})))},onChangeCommitted:function(e,t){"number"===typeof t&&(f(0),v((function(e){window.clearInterval(e)})))}}),Object(c.jsx)("pre",{children:n})]})}function p(){var e=Object(o.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)(0),u=Object(r.a)(i,2),l=u[0],b=u[1],m=Object(o.useState)(0),p=Object(r.a)(m,2),d=p[0],f=p[1],x=Object(o.useReducer)((function(e,t){var n=e.offset,c=e.timer,a=e.counter,r=t.action,o=t.arg,i=t.delegate;switch(r){case"set-offset":return{offset:o,timer:c,counter:a};case"unset-offset":return{offset:0,timer:c,counter:a};case"create-timer-set-offset":return 0===c?{offset:o,timer:i(),counter:0}:{offset:o,timer:c,counter:a};case"destroy-timer-unset-offset":return i(c),{offset:0,timer:0,counter:a};case"count-up":return i(n,a),{offset:n,timer:c,counter:a+1};default:return{offset:n,timer:c,counter:a}}}),{offset:0,timer:0,counter:0}),O=Object(r.a)(x,2),h=O[0],v=O[1],g=function(){v({action:"count-up",delegate:function(e,t){a((function(n){return"update: offset ".concat(e," counter ").concat(t,"\n").concat(n)})),b((function(t){return t+e}))}})};return Object(c.jsxs)("div",{children:[Object(c.jsxs)(j.a,{paragraph:!0,children:[Object(c.jsx)("strong",{children:"Example 4."})," Using ",Object(c.jsx)("code",{children:"useReducer"})," and suggested workarounds, but still (even more reproducible) with double timer creation. #timer=","".concat(h.timer)," position=",l," velocity=",d]}),Object(c.jsx)(s.a,{min:-8,max:8,value:d,onChange:function(e,t){"number"===typeof t&&(f(t),v({action:"create-timer-set-offset",arg:t,delegate:function(){var e=window.setInterval(g,250);return a((function(n){return"velocity: ".concat(t,"; setInterval result: ").concat(e,"\n").concat(n)})),e}}))},onChangeCommitted:function(e,t){"number"===typeof t&&(f(0),v({action:"destroy-timer-unset-offset",delegate:function(e){return window.clearInterval(e)}}))}}),Object(c.jsx)("pre",{children:n})]})}function d(){var e=Object(o.useState)(0),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)(0),u=Object(r.a)(i,2),l=u[0],b=u[1],m=Object(o.useState)(!1),p=Object(r.a)(m,2),d=p[0],f=p[1];return Object(o.useEffect)((function(){if(d){var e=window.setInterval((function(){a((function(e){return e+l}))}),250);return function(){window.clearInterval(e)}}}),[l,d]),Object(c.jsxs)("div",{children:[Object(c.jsxs)(j.a,{paragraph:!0,children:[Object(c.jsx)("strong",{children:"Example 5."})," Using ",Object(c.jsx)("code",{children:"useEffect"})," and cancel every loop when velocity changes. Thanks to @Kroisse in LangDev. No callback reaches when slider is moved fast (< 250 ms per change). position=",n," velocity=",l]}),Object(c.jsx)(s.a,{min:-8,max:8,value:l,onChange:function(e,t){"number"===typeof t&&(b(t),f(!0))},onChangeCommitted:function(e,t){"number"===typeof t&&(b(0),f(!1))}})]})}var f=n(25),x=n(8),O=n(94),h=n(96),v=n(95),g=n(100),w=n(98),y=n(101),C=n(99),S=n(97),I=Object(O.a)((function(e){return{root:{margin:0,padding:0,height:"100%"},appbar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},contentContainer:{paddingLeft:240},content:{flexGrow:1,padding:e.spacing(3)}}}));function E(){var e=I();return Object(c.jsx)("div",{className:e.root,children:Object(c.jsxs)(f.a,{children:[Object(c.jsx)(v.a,{}),Object(c.jsx)(h.a,{position:"fixed",className:e.appbar,children:Object(c.jsx)(S.a,{children:Object(c.jsx)(j.a,{variant:"h6",component:"h1",noWrap:!0,children:"Failure Demo"})})}),Object(c.jsxs)(g.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(c.jsx)(S.a,{}),Object(c.jsx)("div",{className:e.drawerContainer,children:Object(c.jsxs)(w.a,{children:[Object(c.jsx)(y.a,{button:!0,component:i.a.useMemo((function(){return i.a.forwardRef((function(e,t){return Object(c.jsx)(f.b,Object(a.a)({to:"/example0"},e))}))}),[]),children:Object(c.jsx)(C.a,{primary:"Example 0"},"/example0")},"/example0"),Object(c.jsx)(y.a,{button:!0,component:i.a.useMemo((function(){return i.a.forwardRef((function(e,t){return Object(c.jsx)(f.b,Object(a.a)({to:"/example1"},e))}))}),[]),children:Object(c.jsx)(C.a,{primary:"Example 1"},"/example1")},"/example1"),Object(c.jsx)(y.a,{button:!0,component:i.a.useMemo((function(){return i.a.forwardRef((function(e,t){return Object(c.jsx)(f.b,Object(a.a)({to:"/example2"},e))}))}),[]),children:Object(c.jsx)(C.a,{primary:"Example 2"},"/example2")},"/example2"),Object(c.jsx)(y.a,{button:!0,component:i.a.useMemo((function(){return i.a.forwardRef((function(e,t){return Object(c.jsx)(f.b,Object(a.a)({to:"/example3"},e))}))}),[]),children:Object(c.jsx)(C.a,{primary:"Example 3"},"/example3")},"/example3"),Object(c.jsx)(y.a,{button:!0,component:i.a.useMemo((function(){return i.a.forwardRef((function(e,t){return Object(c.jsx)(f.b,Object(a.a)({to:"/example4"},e))}))}),[]),children:Object(c.jsx)(C.a,{primary:"Example 4"},"/example4")},"/example4"),Object(c.jsx)(y.a,{button:!0,component:i.a.useMemo((function(){return i.a.forwardRef((function(e,t){return Object(c.jsx)(f.b,Object(a.a)({to:"/example5"},e))}))}),[]),children:Object(c.jsx)(C.a,{primary:"Example 5"},"/example5")},"/example5")]})})]}),Object(c.jsxs)("div",{className:e.contentContainer,children:[Object(c.jsx)(S.a,{}),Object(c.jsx)("main",{className:e.content,children:Object(c.jsxs)(x.d,{children:[Object(c.jsx)(x.a,{exact:!0,from:"/",to:"/example0"}),Object(c.jsx)(x.b,{exact:!0,path:"/example0",component:u}),Object(c.jsx)(x.b,{exact:!0,path:"/example1",component:l}),Object(c.jsx)(x.b,{exact:!0,path:"/example2",component:b}),Object(c.jsx)(x.b,{exact:!0,path:"/example3",component:m}),Object(c.jsx)(x.b,{exact:!0,path:"/example4",component:p}),Object(c.jsx)(x.b,{exact:!0,path:"/example5",component:d})]})})]})]})})}var k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,103)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))},M=n(9);n.n(M).a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(E,{})}),document.getElementById("root")),k()}},[[63,1,2]]]);
//# sourceMappingURL=main.b0986899.chunk.js.map